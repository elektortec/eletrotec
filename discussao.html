<script>
  const repo = "elektortec/eletrotec";
  const CLIENT_ID = "Ov23liN3mk15RCvqFJoq"; // Seu Client ID
  const CLIENT_SECRET = "802b15cf7f2d0b8009ebfecf6704373651323651"; // Seu Client Secret

  const form = document.getElementById("new-discussion-form");
  const loginBtn = document.getElementById("login-github");
  const success = document.getElementById("form-message");
  const error = document.getElementById("form-error");
  let accessToken = localStorage.getItem("gh_token_eletrotec");

  // Login - CORRIGIDO: redirectUri exato sem query params
  loginBtn.addEventListener("click", () => {
    const baseUrl = window.location.origin + window.location.pathname; // Exato: https://elektortec.github.io/eletrotec/discussao.html
    const redirectUri = encodeURIComponent(baseUrl);
    window.location.href = `https://github.com/login/oauth/authorize?client_id=${CLIENT_ID}&redirect_uri=${redirectUri}&scope=write:discussion`;
  });

  // Resto do código igual (captura code, submit, load)...
  // [Cole o resto do script anterior aqui, sem mudanças]
</script>
